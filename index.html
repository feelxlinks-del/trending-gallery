<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trending Video Gallery</title>

<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{margin:0;background:#0f0f0f;color:#fff}

/* ===== TOP UPDATE BANNER ===== */
#updateBanner{
  display:none;
  background:#ff0066;
  color:#fff;
  padding:8px;
  white-space:nowrap;
  overflow:hidden;
}
#bannerText{
  display:inline-block;
  animation:scroll 14s linear infinite;
}
@keyframes scroll{
  0%{transform:translateX(100%)}
  100%{transform:translateX(-100%)}
}

/* ===== ADS ===== */
.ad-bar{
  position:fixed;left:0;right:0;height:50px;
  background:linear-gradient(90deg,#ff0066,#ffcc00,#ff0066);
  display:flex;align-items:center;justify-content:center;
  cursor:pointer;z-index:9000;font-weight:bold
}
.ad-top{top:0}
.ad-bottom{bottom:0}

/* ===== LAYOUT ===== */
.container{
  display:flex;
  margin-top:110px;
  margin-bottom:60px;
}

/* ===== SIDEBAR ===== */
.sidebar{
  width:200px;
  background:#151515;
  padding:12px;
}
.sidebar a{
  display:block;
  color:#ccc;
  text-decoration:none;
  padding:8px;
  border-radius:6px;
}
.sidebar a:hover{background:#222;color:#fff}

/* NEW badge */
.badge{
  background:red;
  color:#fff;
  font-size:10px;
  padding:2px 6px;
  border-radius:6px;
  margin-left:6px;
}

/* ===== CONTENT ===== */
.content{flex:1;padding:12px}

/* ===== GRID ===== */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:12px;
}
.card{
  background:#1c1c1c;
  border-radius:10px;
  overflow:hidden;
  cursor:pointer;
}
.card video{
  width:100%;
  height:120px;
  object-fit:cover;
}
.card p{margin:8px;font-size:14px}

/* ===== MOBILE ===== */
@media(max-width:768px){
  .container{flex-direction:column}
  .sidebar{width:100%}
  .grid{grid-template-columns:repeat(2,1fr)}
}
</style>
</head>

<body>

<!-- UPDATE BANNER -->
<div id="updateBanner">
  <div id="bannerText"></div>
</div>

<!-- ADS -->
<div class="ad-bar ad-top">‚ñ∂ PLAY AD</div>
<div class="ad-bar ad-bottom">‚ñ∂ PLAY AD</div>

<div class="container">

<!-- SIDEBAR -->
<div class="sidebar">
  <a href="#" onclick="toggleCountries()">üåç Countries ‚ñæ</a>
  <div id="countryList" style="display:none"></div>
</div>

<!-- CONTENT -->
<div class="content">
  <h1 style="color:#ffcc00;margin:0">üî• Trending Gallery</h1>
  <p style="color:#aaa;margin:5px 0 15px">Worldwide viral videos</p>

  <div id="videoGrid" class="grid"></div>
</div>

</div>

<script>
/* ===== REDIRECT ===== */
const REDIRECT_LINK = "redirect.html";

/* ===== 120 COUNTRIES DATA (sample subset) ===== */
const countryData = {
  usa:   { name:"USA",   lastUpdated:"2025-01-22", hasNew:true },
  india: { name:"India", lastUpdated:"2025-01-15", hasNew:false },
  china: { name:"China", lastUpdated:"2025-01-21", hasNew:true },
  japan: { name:"Japan", lastUpdated:"2025-01-10", hasNew:false }
  // üëâ ila 120 countries add cheyochu
};

/* ===== SAMPLE VIDEOS (HOME PAGE) ===== */
const videos = [
  {
    title:"üî• Viral Clip",
    src:"https://feelxlinks.b-cdn.net/v1.mp4"
  }
];

/* ===== RENDER COUNTRIES ===== */
function renderCountries(){
  const list = document.getElementById("countryList");
  list.innerHTML = "";

  Object.keys(countryData).forEach(key=>{
    const c = countryData[key];
    const a = document.createElement("a");
    a.href = `country.html?c=${key}`;
    a.innerHTML = `üåç ${c.name} ${c.hasNew ? '<span class=\"badge\">NEW</span>' : ''}`;
    list.appendChild(a);
  });
}

/* ===== TOGGLE ===== */
function toggleCountries(){
  const el = document.getElementById("countryList");
  el.style.display = el.style.display === "none" ? "block" : "none";
}

/* ===== UPDATE BANNER LOGIC ===== */
function showUpdates(){
  const lastSeen = localStorage.getItem("lastSeen") || "2025-01-01";
  const updatedCountries = [];

  Object.values(countryData).forEach(c=>{
    if(c.lastUpdated > lastSeen){
      updatedCountries.push(c.name);
    }
  });

  if(updatedCountries.length){
    document.getElementById("bannerText").innerText =
      "üî• New videos added in " + updatedCountries.join(" ‚Ä¢ ");
    document.getElementById("updateBanner").style.display = "block";
  }

  localStorage.setItem("lastSeen", new Date().toISOString().split("T")[0]);
}

/* ===== RENDER VIDEOS ===== */
function renderVideos(){
  const vg = document.getElementById("videoGrid");
  vg.innerHTML = "";

  videos.forEach(v=>{
    const c = document.createElement("div");
    c.className = "card";
    c.onclick = ()=>location.href = REDIRECT_LINK;

    c.innerHTML = `
      <video src="${v.src}" muted playsinline preload="metadata"></video>
      <p>${v.title}</p>
    `;
    vg.appendChild(c);
  });
}

/* ===== INIT ===== */
renderCountries();
renderVideos();
showUpdates();
</script>

</body>
</html>
