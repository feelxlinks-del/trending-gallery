<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Trending Video Gallery</title>

<style>
*{box-sizing:border-box;font-family:Arial,Helvetica,sans-serif}
body{margin:0;background:#0f0f0f;color:#fff}

/* ===== ADS ===== */
.ad-bar{
  position:fixed;left:0;right:0;height:50px;
  background:linear-gradient(90deg,#ff0066,#ffcc00,#ff0066);
  display:flex;align-items:center;justify-content:center;
  font-weight:bold;z-index:999;
}
.ad-top{top:0}
.ad-bottom{bottom:0}

/* ===== LAYOUT ===== */
.container{
  display:flex;
  margin-top:60px;
  margin-bottom:60px;
}

/* ===== SIDEBAR ===== */
.sidebar{
  width:240px;
  background:#151515;
  padding:12px;
  max-height:80vh;
  overflow:auto;
}
.sidebar a{
  display:block;
  color:#ccc;
  text-decoration:none;
  padding:8px;
  border-radius:6px;
}
.sidebar a:hover{background:#222;color:#fff}

/* ===== CONTENT ===== */
.content{flex:1;padding:12px}

/* ===== GRID ===== */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(180px,1fr));
  gap:12px;
}
.card{
  background:#1c1c1c;
  border-radius:10px;
  overflow:hidden;
}

/* thumbnail */
.card img{
  width:100%;
  height:120px;
  object-fit:cover;
}

/* preview video */
.preview-video{
  position:absolute;
  inset:0;
  width:100%;
  height:120px;
  object-fit:cover;
  display:none;
}

/* show preview on hover */
.card:hover .preview-video{
  display:block;
}

/* watch button */
.watch-btn{
  position:absolute;
  bottom:8px;
  left:50%;
  transform:translateX(-50%);
  background:#ff0066;
  color:#fff;
  border:none;
  padding:8px 14px;
  border-radius:20px;
  font-size:13px;
  font-weight:bold;
  cursor:pointer;
  z-index:5;
}

/* ===== TOP VIEWED ===== */
.top-viewed{
  margin-top:20px;
  background:#151515;
  padding:10px;
  border-radius:10px;
}
.top-viewed h3{margin:0 0 10px}

/* ===== MOBILE ===== */
@media(max-width:768px){
  .container{flex-direction:column}
  .sidebar{width:100%}
  .grid{grid-template-columns:repeat(2,1fr)}
}
</style>
</head>

<body>

<div class="ad-bar ad-top">‚ñ∂ PLAY AD</div>
<div class="ad-bar ad-bottom">‚ñ∂ PLAY AD</div>

<div class="container">

<!-- SIDEBAR -->
<div class="sidebar">
  <a href="#" onclick="toggleCountries()">üåç Countries ‚ñæ</a>
  <div id="countryList" style="display:none"></div>
</div>

<!-- CONTENT -->
<div class="content">
  <h1 style="color:#ffcc00;margin:0">üî• Trending Gallery</h1>
  <p style="color:#aaa;margin:5px 0 15px">Worldwide viral videos</p>

  <div id="videoGrid" class="grid"></div>

  <div class="top-viewed">
    <h3>üëÄ Top Viewed</h3>
    <div id="topViewedList"></div>
  </div>
</div>

</div>

<script>
/* ===== 120 COUNTRIES ===== */
const countries = [
"USA","India","China","Japan","UK","Canada","Australia","Germany","France","Italy",
"Spain","Brazil","Mexico","Argentina","Russia","Ukraine","Poland","Netherlands",
"Belgium","Sweden","Norway","Finland","Denmark","Switzerland","Austria","Czech",
"Slovakia","Romania","Hungary","Bulgaria","Greece","Turkey","Egypt","Saudi Arabia",
"UAE","Qatar","Kuwait","Oman","Iran","Iraq","Israel","Pakistan","Bangladesh",
"Sri Lanka","Nepal","Bhutan","Myanmar","Thailand","Vietnam","Indonesia","Malaysia",
"Singapore","Philippines","Taiwan","Hong Kong","Mongolia","Kazakhstan","Uzbekistan",
"South Africa","Nigeria","Kenya","Ethiopia","Ghana","Uganda","Tanzania","Zambia",
"Zimbabwe","Morocco","Algeria","Tunisia","Libya","Sudan","Angola","Mozambique",
"Madagascar","Chile","Peru","Colombia","Venezuela","Bolivia","Ecuador","Panama",
"Costa Rica","Nicaragua","Honduras","Guatemala","El Salvador","Jamaica","Haiti",
"Dominican Republic","Cuba","Trinidad","Bahamas","Fiji","Samoa","Tonga",
"New Zealand","Iceland","Ireland","Portugal","Luxembourg","Latvia","Lithuania",
"Estonia"
];

/* ===== VIDEOS ===== */
const videos = [
  {
    id:"v1",
    title:"Watch Video",
    src:"https://feelxlinks.b-cdn.net/v1.mp4",
    thumb:"https://feelxlinks.b-cdn.net/v1i.png"
  }
];

/* ===== COUNTRIES RENDER ===== */
function renderCountries(){
  const list=document.getElementById("countryList");
  list.innerHTML="";
  countries.forEach(c=>{
    const a=document.createElement("a");
    a.href=`country.html?c=${encodeURIComponent(c)}`;
    a.textContent="üåç "+c;
    list.appendChild(a);
  });
}
function toggleCountries(){
  const el=document.getElementById("countryList");
  el.style.display=el.style.display==="none"?"block":"none";
}

/* ===== VIEW TRACKING ===== */
function addView(id){
  let v=JSON.parse(localStorage.getItem("views")||"{}");
  v[id]=(v[id]||0)+1;
  localStorage.setItem("views",JSON.stringify(v));
  renderTopViewed();
}

/* ===== TOP VIEWED ===== */
function renderTopViewed(){
  const list=document.getElementById("topViewedList");
  list.innerHTML="";
  let views=JSON.parse(localStorage.getItem("views")||"{}");

  [...videos].sort((a,b)=>(views[b.id]||0)-(views[a.id]||0))
    .forEach(v=>{
      const d=document.createElement("div");
      d.textContent=`üëÄ ${(views[v.id]||0)} views - ${v.title}`;
      list.appendChild(d);
    });
}

/* ===== VIDEO GRID ===== */
function renderVideos(){
  const vg=document.getElementById("videoGrid");
  vg.innerHTML="";

  videos.forEach(v=>{
    const c=document.createElement("div");
    c.className="card";

    c.innerHTML=`
      <div style="position:relative">
        <img src="${v.thumb}">
        <video class="preview-video" src="${v.src}" muted playsinline></video>
        <button class="watch-btn">‚ñ∂ Watch Video</button>
      </div>
    `;

    const preview=c.querySelector(".preview-video");
    const btn=c.querySelector(".watch-btn");

    // desktop hover preview
    c.addEventListener("mouseenter",()=>preview.play());
    c.addEventListener("mouseleave",()=>{
      preview.pause();preview.currentTime=0;
    });

    // mobile tap preview
    c.addEventListener("touchstart",()=>{
      preview.play();
      setTimeout(()=>{
        preview.pause();preview.currentTime=0;
      },3000);
    });

    // button = full play + count view
    btn.addEventListener("click",e=>{
      e.stopPropagation();
      preview.muted=false;
      preview.controls=true;
      preview.play();
      addView(v.id);
    });

    vg.appendChild(c);
  });
}

/* ===== INIT ===== */
renderCountries();
renderVideos();
renderTopViewed();
</script>

</body>
</html>
